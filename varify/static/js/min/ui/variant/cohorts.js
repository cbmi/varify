define(["jquery","underscore","cilantro","backbone","marionette","../../utils"],function(e,t,n,r,i,s){var o=i.ItemView.extend({tagName:"li",template:"varify/variant/cohort-popover-item",templateHelpers:function(){var e="samples/"+this.model.get("id");return{sampleUrl:s.toAbsolutePath(e)}}}),u=i.CollectionView.extend({className:"unstyled",tagName:"ul",template:"varify/variant/cohort-popover-collection",itemView:o}),a=i.ItemView.extend({template:"varify/variant/cohort-item",tagName:"li",ui:{contentContainer:"[data-target=cohort-popover]"},templateHelpers:function(){return{frequency:n.utils.prettyNumber(this.model.get("af")*100)}},onRender:function(){var e=new u({collection:new r.Collection(this.model.get("samples"))});this.ui.contentContainer.attr("data-content",e.render().el.outerHTML)}}),f=i.CompositeView.extend({template:"varify/variant/cohorts",itemView:a,itemViewContainer:"[data-target=items]",popoverSelector:"[data-target=cohort-popover]",initialize:function(){t.bindAll(this,"hidePopover"),e(document).on("click",this.hidePopover)},hidePopover:function(t){e(this.popoverSelector).not(t.target).popover("hide")},onRender:function(){this.$el.find(this.popoverSelector).popover({container:"#result-details-modal",html:!0,title:"Samples in Cohort"})}});return{Cohorts:f}})